(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(e){if(e.ep)return;e.ep=!0;const a=s(e);fetch(e.href,a)}})();const d=document.querySelector(".events__date"),p=document.querySelector(".events__addButton"),v=document.querySelector(".events__addPopup");let r={};localStorage.getItem("eventsList")?r=JSON.parse(localStorage.getItem("eventsList")):r={Events:[{title:"Соревнование по лёгкой атлетике",date:"14.02.2023",startTime:"14:30",duration:"4",location:"Бауманская",participants:["Тренер","Мартышка"]},{title:"Воллейбол",date:"14.02.2023",startTime:"12:30",duration:"1",location:"Сокольники",participants:["Саня","Яна"]}]};function u(){const n=document.querySelector(".events__list");n.innerHTML="";for(let t=0;t<r.Events.length;t++){let s=document.createElement("article");s.classList.add("events_listItem","eventItem"),s.innerHTML=`<p class="eventItem__title">${r.Events[t].title}</p>                                                             
      <div class="eventItem__row">                                                                                                
      <span class="eventItem__startTime">Время начала: <span class="eventItem__startTimeSpan">${r.Events[t].startTime}</span></span>                      
      <span class="eventItem__duration"> Длительность: <span class="eventItem__durationSpan">${r.Events[t].duration}</span></span>              
      </div>                                                                                                                      
      <p class="eventItem__location">Место: <span class="eventItem__locationSpan">${r.Events[t].location}</span></p>                               
      <p class="eventItem__participants">Участники: <span class="eventItem__participantsSpan">${r.Events[t].participants.join(",")}</span></p>`,n.appendChild(s)}localStorage.setItem("eventsList",JSON.stringify(r))}u();const f=new Date;d.innerHTML=f.toLocaleString("ru-ru",{month:"long",day:"numeric"});p.addEventListener("click",()=>{v.classList.toggle("collapse")});const _=document.querySelector(".addEventPopup__form");_.addEventListener("submit",n=>{const t=document.querySelector("#event-title"),s=document.querySelector("#event-date"),c=document.querySelector("#event-startTime"),e=document.querySelector("#event-duration"),a=document.querySelector("#event-location"),i=document.querySelector("#event-participants");n.preventDefault(),r.Events.push({title:t.value,date:s.value,startTime:c.value,duration:e.value,location:a.value,participants:i.value.split(",")}),u()});const y=document.querySelector("#calendar");let m=1,o=new Date(2023,m),l="<table class='calendar__table table table-bordered'><thead class='table-dark'><th>пн</th><th>вт</th><th>ср</th><th>чт</th><th>пт</th><th>сб</th><th>вс</th></thead><tr>";for(let n=1;n<o.getDay();n++)l+="<td></td>";for(;o.getMonth()==m;)l+="<td>"+o.getDate()+"</td>",o.getDay()%7==0&&(l+="</tr><tr>"),o.setDate(o.getDate()+1);if(o.getDay()!=0)for(let n=o.getDay();n<=7;n++)l+="<td></td>";l+="</tr></table>";y.innerHTML=l;const g=document.querySelector(".calendar__table");g.addEventListener("click",n=>{let t=new Date;Number(n.target.textContent)&&(t.setDate(n.target.textContent),d.innerHTML=t.toLocaleString("ru-ru",{month:"long",day:"numeric"}))});
